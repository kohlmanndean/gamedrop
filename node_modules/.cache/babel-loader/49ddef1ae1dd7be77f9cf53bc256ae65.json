{"ast":null,"code":"var _jsxFileName = \"/Users/kohlmannkearley/Documents/work/dev/gamedrop/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Layout from './components/Layout/Layout';\nimport Vault from './components/vault';\nimport raffle from './components/raffle';\nimport { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { formatUnits } from '@ethersproject/units';\nimport { Route, Routes } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [balance, setBalance] = useState(0);\n  const [token, setToken] = useState({});\n  const [contract, setContract] = useState();\n  const [signer, setSigner] = useState();\n  const routes = [{\n    name: 'Vault',\n    path: '/',\n    element: /*#__PURE__*/_jsxDEV(Vault, {\n      signer: signer,\n      contract: contract,\n      token: token,\n      balance: balance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 40\n    }, this)\n  }, {\n    name: 'Prizes',\n    path: '/prizes',\n    element: ''\n  }, {\n    name: 'Winners',\n    path: 'winners',\n    element: ''\n  }];\n  useEffect(() => {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n\n    async function getUserBalance() {\n      const tokenContract = new ethers.Contract(tokenData.address, tokenData.abi, signer);\n      let userAddress = await signer.getAddress();\n      setBalance(await tokenContract.balanceOf(userAddress).then(res => {\n        return formatUnits(res._hex, 'wei');\n      }));\n      setToken({\n        contract: tokenContract,\n        symbol: await tokenContract.symbol()\n      });\n    }\n\n    async function getRaffleContract() {\n      const raffleContract = signer ? new ethers.Contract(raffle.address, raffle.abi, signer) : null;\n      setContract(raffleContract);\n    }\n\n    if (signer) {\n      getUserBalance();\n      getRaffleContract();\n      setSigner(signer);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    routes: routes,\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: routes.map(route => {\n        return /*#__PURE__*/_jsxDEV(Route, {\n          path: route.path,\n          element: route.element\n        }, route.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"ZDNnFnq8K8NMpsKWCwfdnomU4vo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/kohlmannkearley/Documents/work/dev/gamedrop/src/App.js"],"names":["Layout","Vault","raffle","useEffect","useState","ethers","formatUnits","Route","Routes","App","balance","setBalance","token","setToken","contract","setContract","signer","setSigner","routes","name","path","element","provider","providers","Web3Provider","window","ethereum","getSigner","getUserBalance","tokenContract","Contract","tokenData","address","abi","userAddress","getAddress","balanceOf","then","res","_hex","symbol","getRaffleContract","raffleContract","map","route"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,4BAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACd,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,EAApC;AAEA,QAAMc,MAAM,GAAG,CACd;AAAEC,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,IAAI,EAAE,GAAvB;AAA4BC,IAAAA,OAAO,eAAE,QAAC,KAAD;AAAO,MAAA,MAAM,EAAEL,MAAf;AAAuB,MAAA,QAAQ,EAAEF,QAAjC;AAA2C,MAAA,KAAK,EAAEF,KAAlD;AAAyD,MAAA,OAAO,EAAEF;AAAlE;AAAA;AAAA;AAAA;AAAA;AAArC,GADc,EAEd;AAAES,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,IAAI,EAAE,SAAxB;AAAmCC,IAAAA,OAAO,EAAE;AAA5C,GAFc,EAGd;AAAEF,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,IAAI,EAAE,SAAzB;AAAoCC,IAAAA,OAAO,EAAE;AAA7C,GAHc,CAAf;AAMAlB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMmB,QAAQ,GAAG,IAAIjB,MAAM,CAACkB,SAAP,CAAiBC,YAArB,CAAkCC,MAAM,CAACC,QAAzC,CAAjB;AACA,UAAMV,MAAM,GAAGM,QAAQ,CAACK,SAAT,EAAf;;AAEA,mBAAeC,cAAf,GAAgC;AAC/B,YAAMC,aAAa,GAAG,IAAIxB,MAAM,CAACyB,QAAX,CAAoBC,SAAS,CAACC,OAA9B,EAAuCD,SAAS,CAACE,GAAjD,EAAsDjB,MAAtD,CAAtB;AACA,UAAIkB,WAAW,GAAG,MAAMlB,MAAM,CAACmB,UAAP,EAAxB;AACAxB,MAAAA,UAAU,CACT,MAAMkB,aAAa,CAACO,SAAd,CAAwBF,WAAxB,EAAqCG,IAArC,CAA2CC,GAAD,IAAS;AACxD,eAAOhC,WAAW,CAACgC,GAAG,CAACC,IAAL,EAAW,KAAX,CAAlB;AACA,OAFK,CADG,CAAV;AAKA1B,MAAAA,QAAQ,CAAC;AACRC,QAAAA,QAAQ,EAAEe,aADF;AAERW,QAAAA,MAAM,EAAE,MAAMX,aAAa,CAACW,MAAd;AAFN,OAAD,CAAR;AAIA;;AACD,mBAAeC,iBAAf,GAAmC;AAClC,YAAMC,cAAc,GAAG1B,MAAM,GAAG,IAAIX,MAAM,CAACyB,QAAX,CAAoB5B,MAAM,CAAC8B,OAA3B,EAAoC9B,MAAM,CAAC+B,GAA3C,EAAgDjB,MAAhD,CAAH,GAA6D,IAA1F;AAEAD,MAAAA,WAAW,CAAC2B,cAAD,CAAX;AACA;;AACD,QAAI1B,MAAJ,EAAY;AACXY,MAAAA,cAAc;AACda,MAAAA,iBAAiB;AACjBxB,MAAAA,SAAS,CAACD,MAAD,CAAT;AACA;AACD,GA3BQ,EA2BN,EA3BM,CAAT;AA4BA,sBACC,QAAC,MAAD;AAAQ,IAAA,MAAM,EAAEE,MAAhB;AAAA,2BACC,QAAC,MAAD;AAAA,gBACEA,MAAM,CAACyB,GAAP,CAAYC,KAAD,IAAW;AACtB,4BAAO,QAAC,KAAD;AAAwB,UAAA,IAAI,EAAEA,KAAK,CAACxB,IAApC;AAA0C,UAAA,OAAO,EAAEwB,KAAK,CAACvB;AAAzD,WAAYuB,KAAK,CAACzB,IAAlB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACA,OAFA;AADF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AASA;;GAjDQV,G;;KAAAA,G;AAmDT,eAAeA,GAAf","sourcesContent":["import Layout from './components/Layout/Layout'\nimport Vault from './components/vault'\nimport raffle from './components/raffle'\nimport { useEffect, useState } from 'react'\nimport { ethers } from 'ethers'\nimport { formatUnits } from '@ethersproject/units'\nimport { Route, Routes } from 'react-router-dom'\n\nfunction App() {\n\tconst [balance, setBalance] = useState(0)\n\tconst [token, setToken] = useState({})\n\tconst [contract, setContract] = useState()\n\tconst [signer, setSigner] = useState()\n\n\tconst routes = [\n\t\t{ name: 'Vault', path: '/', element: <Vault signer={signer} contract={contract} token={token} balance={balance} /> },\n\t\t{ name: 'Prizes', path: '/prizes', element: '' },\n\t\t{ name: 'Winners', path: 'winners', element: '' },\n\t]\n\n\tuseEffect(() => {\n\t\tconst provider = new ethers.providers.Web3Provider(window.ethereum)\n\t\tconst signer = provider.getSigner()\n\n\t\tasync function getUserBalance() {\n\t\t\tconst tokenContract = new ethers.Contract(tokenData.address, tokenData.abi, signer)\n\t\t\tlet userAddress = await signer.getAddress()\n\t\t\tsetBalance(\n\t\t\t\tawait tokenContract.balanceOf(userAddress).then((res) => {\n\t\t\t\t\treturn formatUnits(res._hex, 'wei')\n\t\t\t\t})\n\t\t\t)\n\t\t\tsetToken({\n\t\t\t\tcontract: tokenContract,\n\t\t\t\tsymbol: await tokenContract.symbol(),\n\t\t\t})\n\t\t}\n\t\tasync function getRaffleContract() {\n\t\t\tconst raffleContract = signer ? new ethers.Contract(raffle.address, raffle.abi, signer) : null\n\n\t\t\tsetContract(raffleContract)\n\t\t}\n\t\tif (signer) {\n\t\t\tgetUserBalance()\n\t\t\tgetRaffleContract()\n\t\t\tsetSigner(signer)\n\t\t}\n\t}, [])\n\treturn (\n\t\t<Layout routes={routes}>\n\t\t\t<Routes>\n\t\t\t\t{routes.map((route) => {\n\t\t\t\t\treturn <Route key={route.name} path={route.path} element={route.element}></Route>\n\t\t\t\t})}\n\t\t\t</Routes>\n\t\t</Layout>\n\t)\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}